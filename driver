#!/usr/bin/python3

import psycopg2
import sqlalchemy 

from sqlalchemy import create_engine
from sqlalchemy import text 

def get_engine():

    # dialect[+driver]://user:password@host/dbname[?key=value..]
    engine = create_engine("postgresql+psycopg2://admin:p0stdev@0.0.0.0", echo=True)
    return engine


def execute():
    engine = get_engine()
    with engine.connect() as conn:
            result = conn.execute(text("select 'hello world'"))
            print(result.all())

#     db = get_engine()
#     with db.connect() as conn:
#         conn.execute(text("CREATE TABLE some_table (x int, y int)"))
#         conn.execute(
#             text("INSERT INTO some_table (x, y) VALUES (:x, :y)"),
#         [{"x": 1, "y": 1}, {"x":2,"y":4}],
#         )
#         conn.commit()
#         connection.close()
#         db.dispose()

if __name__ == '__main__':
    execute()
#breakpoint()
